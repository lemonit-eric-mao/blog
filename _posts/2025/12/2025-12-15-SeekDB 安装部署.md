---
title: "SeekDB 安装部署"
date: "2025-12-15"
categories: 
  - "databases"
---



# SeekDB 安装部署



### [官方文档](https://www.oceanbase.ai/docs/zh-CN/deploy-by-docker)



#### docker-compose.yaml

``` yaml
services:
  seekdb:
    image: quay.io/oceanbase/seekdb:latest
    container_name: seekdb
    ports:
      - "2881:2881"
    environment:
      - ROOT_PASSWORD=youpasswd
#      - INIT_SCRIPTS_PATH=/root/boot/init.d
    volumes:
#      - ./init_sql:/root/boot/init.d
      - ./seekdb.cnf:/etc/oceanbase/seekdb.cnf  # 自定义配置文件
      - ./seekdb_data:/var/lib/oceanbase
    restart: unless-stopped

```



#### seekdb.cnf 说明

``` ini
# seekdb.cnf

datafile_size=2G
datafile_next=2G
datafile_maxsize=50G
cpu_count=4
memory_limit=8G
log_disk_size=2G

# config the parameter in the following format
# key=value

```



#### 查看

```bash
[cloud@New-test1 (17:23:57) /mnt/data/project-seekdb]
└─$ docker-compose ps
NAME      IMAGE                             COMMAND            SERVICE   CREATED              STATUS              PORTS
seekdb    quay.io/oceanbase/seekdb:latest   "/root/start.sh"   seekdb    About a minute ago   Up About a minute   0.0.0.0:2881->2881/tcp, :::2881->2881/tcp

```

#### 测试

``` bash
mysql -uroot -h127.0.0.1 -P2881 -p
```



---





## [使用seekdb搭建AI应用](https://www.oceanbase.ai/docs/zh-CN/build-multi-model-application-based-on-oceanbase/)



#### 创建库、表

###### [HNSW向量搜索](https://www.oceanbase.ai/docs/zh-CN/experience-vector-search)

``` sql
CREATE DATABASE `seekdb` DEFAULT CHARACTER SET = utf8mb4 REPLICA_NUM = 1;


-- seekdb.obmms_demo definition

CREATE TABLE `obmms_demo` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `attraction_name` varchar(1024) NOT NULL,
  `address_text` longtext NOT NULL,
  `address` point NOT NULL,
  `intro` longtext NOT NULL,
  `intro_vec` VECTOR(1024) NOT NULL,
  `img_url` varchar(1024) NOT NULL,
  `score` int(11) NOT NULL,
  `season` int(11) NOT NULL,
  `ticket` json DEFAULT NULL,
  PRIMARY KEY (`id`),
  VECTOR INDEX intro_vec_idx(intro_vec) WITH (distance=L2, type=hnsw)
)

```



``` bash
# 请修改为 archive.zip 文件的实际保存路径
mv ./archive.zip ./citydata.zip
unzip ./citydata.zip
```

``` bash
\ob-multi-model-search-demo>

python ./obmms/data/attraction_data_preprocessor.py

# 这个demo中的代码要改，需要把所有的 4326 坐标标准的限制都去掉
```



#### 配置.env

``` ini
# 数据库连接串中的主机地址
OB_URL="221.180.141.96:2881"   ## 格式：IP:<端口号>
OB_USER="root"  ## 用户名
OB_DB_NAME="seekdb"  ## 数据库名称
# 数据库连接串中的密码
OB_PWD="youpasswd"
# 数据库连接串中的 SSL CA 文件路径（可选），如果不需要使用 SSL 链路加密，需要删除此参数
#OB_DB_SSL_CA_PATH="******"

# 手动增加 LLM API Key
DASHSCOPE_API_KEY="sk-4****91fe"
# 手动增加高德地图 API Key
AMAP_API_KEY="******"
```



---

