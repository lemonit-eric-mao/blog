---
title: 'HTTP Cookie的由来'
date: '2017-11-16T14:52:04+00:00'
status: publish
permalink: /2017/11/16/http-cookie%e7%9a%84%e7%94%b1%e6%9d%a5
author: 毛巳煜
excerpt: ''
type: post
id: 418
category:
    - 网络基础
tag: []
post_format: []
---
**HTTP/1.1 虽然是无状态协议，但为了实现期望的保持状态功能，于  
是引入了 Cookie 技术。有了 Cookie 再用 HTTP 协议通信，就可以管  
理状态了**

### **使用 Cookie 的状态管理**

HTTP 是无状态协议，它不对之前发生过的请求和响应的状态进行管  
理。也就是说，无法根据之前的状态进行本次的请求处理。

假设要求登录认证的 Web 页面本身无法进行状态的管理（不记录已  
登录的状态），那么每次跳转新页面不是要再次登录，就是要在每次  
请求报文中附加参数来管理登录状态。

不可否认，无状态协议当然也有它的优点。由于不必保存状态，自然  
可减少服务器的 CPU 及内存资源的消耗。从另一侧面来说，也正是  
因为 HTTP 协议本身是非常简单的，所以才会被应用在各种场景里。

**如果让服务器管理全部客户端状态则会成为负担**

保留无状态协议这个特征的同时又要解决类似的矛盾问题，于是引入  
了 Cookie 技术。Cookie 技术通过在请求和响应报文中写入 Cookie 信  
息来控制客户端的状态。

Cookie 会根据`从服务器端发送`的响应报文内的一个叫做 `Set-Cookie` 的  
首部字段信息，`通知客户端`保存 Cookie。当下次客户端再往该服务器  
发送请求时，`客户端会自动`在请求报文中`加入 Cookie`值后发送出  
去。

服务器端发现客户端发送过来的 Cookie 后，会去检查究竟是从哪一  
个客户端发来的连接请求，然后`对比服务器上的记录`，最后得到之前  
的状态信息。