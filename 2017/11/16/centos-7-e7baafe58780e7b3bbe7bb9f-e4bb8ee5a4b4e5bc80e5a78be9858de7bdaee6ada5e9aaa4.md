---
title: 'CentOS 7 纯净系统 从头开始配置步骤'
date: '2017-11-16T14:05:56+00:00'
status: publish
permalink: /2017/11/16/centos-7-%e7%ba%af%e5%87%80%e7%b3%bb%e7%bb%9f-%e4%bb%8e%e5%a4%b4%e5%bc%80%e5%a7%8b%e9%85%8d%e7%bd%ae%e6%ad%a5%e9%aa%a4
author: 毛巳煜
excerpt: ''
type: post
id: 352
category:
    - CentOS
tag: []
post_format: []
hestia_layout_select:
    - sidebar-right
---
**刚刚安装的 CentOS-7-x86\_64-Minimal-1511.iso  
执行脚本**

```ruby
[root@localhost ~]# vi /etc/sysconfig/network
# 添加网关
GATEWAY=192.168.1.1

```

- - - - - -

##### 开启网络 静态IP + DNS配置

```ruby
[root@localhost ~]# vi /etc/sysconfig/network-scripts/ifcfg-enp8s0
# 注：ifcfg-enp8s0 这个是网上配置文件，不同的网卡会有不同的名称
=====================配置文本内容 开始============================
TYPE=Ethernet

BOOTPROTO=static
IPADDR=192.168.1.2
NETMASK=255.255.255.0
# 如果是基于VMware ESXI创建的虚拟机，那么这里还要添加网关
# GATEWAY=192.168.2.1
NM_CONTROLLED=no
ONBOOT=yes

DEFROUTE=yes
PEERDNS=yes
PEERROUTES=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
IPV6_FAILURE_FATAL=no
NAME=enp8s0
UUID=f3942887-e89e-49d4-ad1f-9bf6a938d203
DEVICE=enp8s0

DNS1=8.8.8.8
DNS2=8.8.4.4
=====================配置文本内容 结束============================

[root@localhost ~]# Shift + : wq! 回车
# 重启网络服务
# systemctl是RHEL 7 的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体。可以使用它永久性或只在当前会话中启用/禁用服务。
# 所以systemctl命令是service命令和chkconfig命令的集合和代替
[root@localhost ~]# systemctl restart network

```

- - - - - -

##### 配置host 添加可访问的域名

```ruby
[root@localhost ~]# vi /etc/host.conf
......
multi on

[root@localhost ~]#
# 测试链接是否成功
[root@localhost ~]# ping www.baidu.com

```

- - - - - -

###### 关闭防火墙

```ruby
systemctl stop firewalld && systemctl disable firewalld

```

- - - - - -

###### 关闭 NetworkManager

**这个组件总能带来网络上的`意外`，所以还是关了吧**

```ruby
systemctl stop NetworkManager && systemctl disable NetworkManager

```

- - - - - -

##### 安装需要的工具

```ruby
yum -y install epel-release && yum install -y vim wget htop net-tools

```

- - - - - -

###### [安装阿里云源](http://www.dev-share.top/2019/11/06/centos-7-yum-%e9%85%8d%e7%bd%ae%e9%98%bf%e9%87%8c%e4%ba%91%e6%ba%90/ "安装阿里云源")

###### [升级内核](http://www.dev-share.top/2019/07/10/linux-%e7%b3%bb%e7%bb%9f%e5%86%85%e6%a0%b8%e5%8d%87%e7%ba%a7/ "升级内核")

- - - - - -

###### 配置DNS(`可选`)

```ruby
[root@k8s-master ~]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 114.114.114.114
nameserver fe80::1%ens192
[root@k8s-master ~]#

```

- - - - - -

##### 常见问题

###### `Network is unreachable` 解决方案

```ruby
[root@node1 ~]# ping 192.168.2.1
connect: Network is unreachable
[root@node1 ~]#
# 解决办法, 将上面的网卡配置文件中的 ONBOOT=no 改为 ONBOOT=yes

```