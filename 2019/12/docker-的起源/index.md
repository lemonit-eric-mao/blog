---
title: "Docker 的起源"
date: "2019-12-16"
categories: 
  - "docker"
---

[转自](https://blog.csdn.net/oqqaKun1/article/details/88048857 "转自")

###### [认识Docker](https://www.cnblogs.com/ccbloom/p/10935639.html "认识Docker")

###### 容器的前身 **虚拟化技术**：

   再没有虚拟化的时候，如果我们想搭建一个服务器，我们列一下我们要做的事情：

1. 购买一个硬件主机
2. 配置 os 买服务器
3. 安装os
4. 配置环境
5. 部署应用

   而且当时我们一个主机只能部署一个应用。当我们需要迁移的时候，又要重复我们上面的步骤，所以总结出的特点如下：

1. 部署应用周期长
2. 花费的成本非常高
3. 容易造成资源的浪费，因为往往一个应用使用不了一个服务器的资源
4. 迁移问题：要把应用进行迁移，又得重复部署应用的过程：买服务器 --> 安装os --> 配置环境 --> 部署应用

**为了解决以上问题，传统虚拟化技术出现了**

   虚拟化技术在本地操作系统的基础上 加了一层 Hypervisor层，Hypervisor是一种运行在物理服务器和操作系统之间的中间软件层，可以虚拟化硬件资源，例如cpu、硬盘、内存资源等。然后我们可以基于通过虚拟化出来的资源之上安装操作系统，这也就是所谓的虚拟机。

   通过Hypervisor层，我们可以创建不同的虚拟机，并且可以限定每个虚拟机的物理资源，并且每个虚拟机都是分离、独立的。例如A虚拟机给它使用2个cpu、8g内存、100g磁盘，B虚拟机给它使用4个cpu、16g内存、300g磁盘。。。等等，这样就可以实现物理资源利用率的最大化。

###### **传统虚拟化技术的优缺点**：

- 资源池——一个物理机的资源分配到了不同的虚拟机里
- 很容易扩展——增加物理机或者虚拟机即可，因为虚拟机是可以复制的
- 很容易云化——亚马孙AWS，阿里云，谷歌云等

###### **传统虚拟化技术的缺点**

   每创建一个虚拟机的时候，都会创建一个操作系统，这样无疑大大的增加的资源的浪费。当虚拟机越多，资源浪费就越多。

   容器技术产生的主要原因，并不是因为资源浪费。主要的原因使因为 开发和运维 人员环境不一致的问题，导致开发效率大大降低的问题。

###### **容器技术产生**

   容器可以帮我们把开发环境及应用整个打包带走，打包好的容器可以在任何的环境下运行，这样就可以解决开发与运维环境不一致的问题了，所以：

`容器解决了开发和运维之间的矛盾：`

- 在开发和运维之间搭建了一个桥梁，是实现devops的最佳解决方案
- 以上只是描述是容器解决了什么问题，但是还没有说明什么是容器，不过其实简单几句话就可以说明容器了：

`对软件和其依赖环境的标准化打包：`

- 应用之间相互隔离
- 共享一个OS Kernel(解决了资源浪费的问题)
- 可以运行在很多主流操作系统上

###### 容器和虚拟机的区别

1. 容器是将代码和环境的关系打包在一起的一个集合，而虚拟机的在物理层面上，分出来的一个操作系统
2. 多个容器可以运行在同一台机器上，并共享一个操作系统的内核资源。 虚拟机也可以运行多个在同一台机器上，但每个虚拟机 都需要一个完整的操作系统
3. 容器大多 几十M的大小，虚拟机大多 几G的大小

###### docker 容器的思想

   Docker容器的思想来自于集装箱，集装箱解决了什么问题？    在一艘大船上，可以把货物规整的摆放起来。并且各种各样的货物被集装箱标准化了，集装箱和集装箱之间不会互相影响。那么我就不需要专门运送水果的船和专门运送化学品的船了。只要这些货物在集装箱里封装的好好的，那我就可以用一艘大船把他们都运走。    docker就是类似的理念。现在都流行云计算了，云计算就好比大货轮，docker就是集装箱。
