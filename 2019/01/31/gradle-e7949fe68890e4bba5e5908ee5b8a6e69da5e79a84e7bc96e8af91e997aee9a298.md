---
title: 'gradle 生级4.6以后带来的编译问题'
date: '2019-01-31T12:58:38+00:00'
status: publish
permalink: /2019/01/31/gradle-%e7%94%9f%e6%88%90%e4%bb%a5%e5%90%8e%e5%b8%a6%e6%9d%a5%e7%9a%84%e7%bc%96%e8%af%91%e9%97%ae%e9%a2%98
author: 毛巳煜
excerpt: ''
type: post
id: 3426
category:
    - 移动端
tag: []
post_format: []
hestia_layout_select:
    - sidebar-right
---
##### implementation 与 api 两种引用方式的区别

```json
dependencies {
    // 使用 implementation 引入的jar包 只能被自己使用
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    // 使用 api 引入的jar包，当自己被其它项目引用的时候，自己引入的jar包也可以被使用 相当于 public
    api files('libs/FaceSDK_2.0.0.1.jar')
}

```

##### 拿百度人脸识别官方的Demo举例：

###### 两个项目:

1. facesample 项目
2. facelibrary 项目

###### facesample项目的部分 build.gradle

```json
dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation 'com.android.support:appcompat-v7:28.0.0'
    // 引用 facelibrary 项目
    implementation project(':facelibrary')
}

```

###### facelibrary 项目的部分 build.gradle

```json
dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    // 这种引用方式 facesample 项目是可以引用 FaceSDK.jar 的
    api files('libs/FaceSDK_2.0.0.1.jar')
    // 这种引用方式 facesample 项目是无法引用的
    implementation files('libs/FaceSDK_2.0.0.1.jar')
}

```